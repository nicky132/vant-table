/* ========== Stickyå›ºå®šåˆ—æ ·å¼ ========== */
.vant-th--sticky {
  position: sticky;
  z-index: 100;
  background-color: var(--van-background);
  /* iOSä¼˜åŒ–ï¼šé˜²æ­¢å›ºå®šåˆ—åœ¨æ‹–æ‹½æ—¶ç§»åŠ¨ */
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  will-change: transform;
}

.vant-td--sticky {
  position: sticky;
  z-index: 90;
  background-color: var(--van-white);
  /* iOSä¼˜åŒ–ï¼šé˜²æ­¢å›ºå®šåˆ—åœ¨æ‹–æ‹½æ—¶ç§»åŠ¨ */
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  will-change: transform;
}

/* é’ˆå¯¹iOSè®¾å¤‡çš„é¢å¤–ä¼˜åŒ– */
@supports (-webkit-touch-callout: none) {
  /* iOS Safariä¸“ç”¨ */
  .vant-table-wrapper {
    /* é˜²æ­¢æ•´ä½“è¡¨æ ¼è¢«æ‹–æ‹½ */
    -webkit-overflow-scrolling: touch;
    /* å¢å¼ºç¡¬ä»¶åŠ é€Ÿ */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
  
  .vant-table-body {
    /* é™åˆ¶æ»šåŠ¨è¡Œä¸º */
    -webkit-overflow-scrolling: touch;
    /* é˜²æ­¢è¾¹ç•Œå›å¼¹å½±å“å›ºå®šåˆ— */
    overscroll-behavior-x: contain;
    overscroll-behavior-y: auto;
  }
  
  .vant-th--sticky,
  .vant-td--sticky {
    /* iOSä¸‹çš„å›ºå®šåˆ—é¢å¤–ä¿æŠ¤ */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    /* å¼ºåˆ¶ç¡¬ä»¶åŠ é€Ÿ */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    /* é˜²æ­¢sub-pixelæ¸²æŸ“é—®é¢˜ */
    -webkit-font-smoothing: subpixel-antialiased;
  }
}

/* iOSä¼˜åŒ–ä¸“ç”¨ç±» */
.vant-table--ios-optimized {
  /* å¢å¼ºçš„iOSè§¦æ‘¸å¤„ç† */
  -webkit-overflow-scrolling: auto; /* é¿å…ä½¿ç”¨touchä»¥é˜²æ­¢å›å¼¹ */
  overscroll-behavior: contain;
  
  .vant-table-body {
    /* ç²¾ç¡®æ§åˆ¶æ»šåŠ¨è¡Œä¸º */
    -webkit-overflow-scrolling: auto;
    overscroll-behavior-x: contain;
    overscroll-behavior-y: contain;
    /* ç¦ç”¨iOSçš„æ»šåŠ¨å›å¼¹ */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  .vant-th--sticky,
  .vant-td--sticky {
    /* é¢å¤–çš„ç¨³å®šæ€§ä¿è¯ */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    will-change: auto; /* å‡å°‘ä¸å¿…è¦çš„ä¼˜åŒ– */
    /* å¼ºåˆ¶å›ºå®šä½ç½® */
    position: -webkit-sticky !important;
    position: sticky !important;
    /* é˜²æ­¢è¢«çˆ¶çº§transformå½±å“ */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
}

/* é’ˆå¯¹iOSçš„è¡¨æ ¼ä½“é¢å¤–ä¿æŠ¤ */
@supports (-webkit-touch-callout: none) {
  .vant-table--ios-optimized .vant-table-body {
    /* å®Œå…¨ç¦ç”¨iOSçš„æ»šåŠ¨å¼¹æ€§ */
    -webkit-overflow-scrolling: auto !important;
    /* é˜²æ­¢æ‹–æ‹½æº¢å‡º */
    overflow-x: auto;
    overflow-y: auto;
    /* é˜»æ­¢è§¦æ‘¸æ‹–æ‹½ */
    touch-action: pan-x pan-y;
  }
  
  /* æœ€é«˜ä¼˜å…ˆçº§çš„å›ºå®šåˆ—ä¿æŠ¤ */
  .vant-table--ios-optimized .vant-th--sticky,
  .vant-table--ios-optimized .vant-td--sticky {
    /* å¼ºåˆ¶ç¡¬ä»¶åŠ é€Ÿå¹¶å›ºå®š */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    /* é˜²æ­¢ä»»ä½•å½¢å¼çš„ç§»åŠ¨ */
    position: -webkit-sticky !important;
    position: sticky !important;
    /* é˜»æ­¢å±‚çº§æ··åˆ */
    isolation: isolate;
    /* å¼ºåˆ¶ç»˜åˆ¶ç‹¬ç«‹å±‚ */
    contain: layout style paint;
  }
}

/* VTableé£æ ¼çš„å›ºå®šåˆ—é˜´å½±æ•ˆæœ - æ”¹è¿›çš„è¿ç»­é˜´å½±æ–¹æ¡ˆ */

/* æ¸…é™¤æ‰€æœ‰å•å…ƒæ ¼çº§åˆ«çš„é˜´å½± */
.vant-th--sticky,
.vant-td--sticky {
  box-shadow: none;
}

/* è¡¨æ ¼å®¹å™¨éœ€è¦è®¾ç½®ä¸ºç›¸å¯¹å®šä½ */
.vant-table-layout-wrapper {
  position: relative;
}

/* åˆ›å»ºå›ºå®šçš„é˜´å½±è¦†ç›–å±‚ */
.vant-table-layout-wrapper::after,
.vant-table-layout-wrapper::before {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  width: 8px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 120;
}

/* å·¦ä¾§é˜´å½±ï¼ˆåœ¨å·¦å›ºå®šåˆ—å³ä¾§ï¼‰ */
.vant-table-layout-wrapper::after {
  left: var(--left-shadow-position, 0px);
  background: linear-gradient(to right, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.05), transparent);
}

/* å³ä¾§é˜´å½±ï¼ˆåœ¨å³å›ºå®šåˆ—å·¦ä¾§ï¼‰ */
.vant-table-layout-wrapper::before {
  right: var(--right-shadow-position, 0px);
  background: linear-gradient(to left, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.05), transparent);
}

/* å½“è¡¨æ ¼å‘å³æ»šåŠ¨æ—¶æ˜¾ç¤ºå·¦ä¾§é˜´å½± */
.vant-table-layout-wrapper[data-scroll-left="1"]::after {
  opacity: 1;
}

/* ğŸ”‘ ä¿®å¤ï¼šå½“è¡¨æ ¼æœ‰å¯æ»šåŠ¨å†…å®¹æ—¶æ˜¾ç¤ºå³ä¾§é˜´å½±ï¼Œä¸ä»…ä»…ä¾èµ–æ»šåŠ¨æ¡å­˜åœ¨ */
.vant-table-layout-wrapper[data-scroll-right="1"]::before,
.vant-table-layout-wrapper[data-has-scrollable-content="1"]::before {
  opacity: 1;
}

/* å¤‡ç”¨æ–¹æ¡ˆï¼šè¡¨å¤´å’Œè¡¨ä½“å•ç‹¬çš„é˜´å½±ï¼ˆå¦‚æœéœ€è¦ï¼‰ */
.vant-table-header::after,
.vant-table-body::after {
  display: none;
}

.vant-table-header::before,
.vant-table-body::before {
  display: none;
}

/* ========== æ·±è‰²æ¨¡å¼æ”¯æŒï¼ˆå¢å¼ºç‰ˆï¼‰ ========== */
@media (prefers-color-scheme: dark) {
  .vant-table-wrapper {
    --van-text-color: #ffffff;
    --van-text-color-2: #cccccc;
    --van-text-color-3: #888888;
    --van-border-color: #404040;
    --van-background: #2a2a2a;
    --van-white: #1a1a1a;
    --van-hover-color: #333333;
    --van-selected-color: #1a3a5c;
  }

  .vant-table-checkbox__icon,
  .vant-table-radio__icon {
    border-color: #666666;
    background-color: #2a2a2a;
  }

  /* æ·±è‰²æ¨¡å¼ä¸‹çš„hoveræ•ˆæœ - ä»…åœ¨PCç«¯ç”Ÿæ•ˆ */
  @media (hover: hover) and (pointer: fine) {
    .vant-table-checkbox__icon:hover,
    .vant-table-radio__icon:hover {
      border-color: var(--van-primary-color);
    }
  }

  /* æ·±è‰²æ¨¡å¼å¤–éƒ¨æ»šåŠ¨æ¡æ ·å¼ */
  .vant-table-scroll-x-virtual {
    background: #1a1a1a;
    border-top-color: #404040;
    box-shadow: 0 -1px 3px rgba(0,0,0,0.3);
  }

  .vant-table-scroll-x-wrapper {
    background: #2a2a2a;
  }

  /* æ»šåŠ¨æ¡hoveræ•ˆæœ - ä»…åœ¨PCç«¯ç”Ÿæ•ˆ */
  @media (hover: hover) and (pointer: fine) {
    .vant-table-scroll-x-wrapper:hover {
      background: #333333;
    }
  }

  .vant-table-scroll-x-space {
    background: #404040;
    border-color: #666666;
  }

  /* æ»šåŠ¨æ¡æ‰‹æŸ„hoveræ•ˆæœ - ä»…åœ¨PCç«¯ç”Ÿæ•ˆ */
  @media (hover: hover) and (pointer: fine) {
    .vant-table-scroll-x-handle:hover .vant-table-scroll-x-space {
      background: #555555;
      border-color: #777777;
    }
  }

  .vant-table-scroll-x-handle:active .vant-table-scroll-x-space,
  .vant-table-scroll-x-handle--dragging .vant-table-scroll-x-space {
    background: #666666;
    border-color: #888888;
  }
}